## Migration Protocol Reference

Running the `Migration.Toolkit.CLI.exe migrate` command (see [`Migration.Toolkit.CLI/README.md`](/Migration.Toolkit.CLI/README.md)) generates a **migration protocol file**. The protocol provides information about the result of the migration, lists required manual steps, etc. 

You can find the protocol file in the location specified by the `Settings.MigrationProtocolPath` [configuration option](/Migration.Toolkit.CLI/README.md#Configuration).


## Common Migration Protocol Warnings & Errors

| Message ReferenceName                                       |        Severity          |    Description               |
| ------------------------------------------------------------|--------------------------|----------------------------- |
| BulkCopyColumnMismatch                                      |        Error             | For performance optimization, the migration transfers certain objects using bulk SQL queries. The columns in the related database tables must match on the source and target. The migration attempts to discard data from extra columns on the source.<br /><br />**Fix**: Review the tables for customizations on the source instance and revert/update the schema to match the default Kentico Xperience 13 state. |
| CmsClass_CmsRootClassTypeSkip                               |        Information       | 'CMS.Root' is a special system page type and is not supported for migration.<br /><br />**Fix**: No actions required. Xperience by Kentico contains a root page type by default. |
| CmsTree_TreeIsLinkFromDifferentSite                         |        Warning           | The content tree contains a page that is linked from a different site. Linked pages from other sites are not supported for migration (Xperience by Kentico currently does not allow multiple sites). <br /><br />**Fix**: Remove the linked page on the source instance or create a copy that is not linked from a different site. |
| CmsUser_SkipAdminUser                                       |        Warning           | Migration of the 'administrator' user was not processed.<br /><br />**Fix**: Remove the 'administrator' user on the target instances. |
| CmsUser_SkipPublicUser                                      |        Warning           | Migration of the system 'public' user was not processed.<br /><br />**Fix**: No actions required. All bindings (e.g. the site binding) for the 'public' user account will be mapped automatically. |
| CustomFormComponent                                         |        Warning           | Logged when Page Builder content on the source instance contains a property using a custom form component (one that doesn't exist in the default installation). You need to manually create a corresponding component suitable for Xperience by Kentico on the target instance. |
| DataMustNotExistInTargetInstanceTable                       |        Warning           | Occurs when data is present for objects migrated using bulk SQL queries (for performance optimization, for example the Contact management migration).<br /><br />**Fix**: You always need to delete all objects of the given types before running repeated migrations. |
| DbConstraintBroken                                          |        Error             | General error message indicating that the target database cannot hold migrated data, due to duplicate values in unique columns (e.g., primary keys) or due to a missing dependency.<br /><br />**Fix**: Manually migrate the object (specified object by the ID in the message), or check if dependencies required by the object were successfully migrated. |
| EntityExplicitlyExcludedByCodeName                          |        Warning           | The object is excluded via the `Settings.EntityConfigurations.<object table name>.ExcludeCodeNames` configuration option.<br /><br />**Fix**: If you wish to migrate the object, remove the given code name from the configuration. |
| ErrorSavingTargetInstance                                   |        Error             | A general error that prevents data from being saved in the target Xperience by Kentico database. For example, can be caused by a database timeout or temporary outage. |
| FailedToCreateTargetInstance                                |        Error             | General error when the creation of the target entity failed. Can be caused by a problem with the source data or by an error in the Migration toolkit.<br /><br />**Fix**: Check if the related source data is compatible with the target or report a Migration toolkit issue. |
| FailedToUpdateTargetInstance / FailedToUpdateTargetInstance |        Error             | General error when updating / inserting an object on the target instance.<br /><br />**Fix**: Depends on the details in the error message. Can have various causes, such as an interrupted database connection or malformed/incorrect data. |
| FormComponentNotSupportedInLegacyMode                       |        Warning           | Logged when Page Builder content on the source instance contains a property using a form component that is not supported by the Page Builder legacy mode in Xperience by Kentico.  |
| InvalidSourceData                                           |        Warning           | The source instance is missing required data or data is malformed.<br /><br />**Fix**: Review the message details and try to look for differences between the source and target database schema. |
| LinkedDataAlreadyMaterializedInTargetInstance               |        Warning           | A linked page already exists in the target instance and an update is not possible.<br /><br />**Fix**: No actions required. The update is probably not required. |
| MediaFileIsMissingOnSourceFilesystem                        |        Error             | Occurs when a media file is missing from the source project's file system and the `Settings.MigrateOnlyMediaFileInfo` configuration option is `false`.<br /><br />**Fix**: Manually migrate the source media file to the target instance's file system. |                                                                               |
| MissingConfiguration                                        |        Error             | The migrate command is missing required configuration.<br /><br />**Fix**: Add required configuration according to the error message. See [`Migration.Toolkit.CLI/README.md`](/Migration.Toolkit.CLI/README.md). |
| MissingRequiredDependency                                   |        Error             | An object from the source is missing a dependency required on the target instance.<br /><br />**Fix**: Add the missing dependency on the source instance or delete the object completely. |
| NotCurrentlySupportedSkip                                   |        Warning           | Xperience by Kentico currently does not support all types of objects from Kentico Xperience 13, so they cannot be migrated via the toolkit. Support may be added in future versions of Xperience by Kentico and the Migration toolkit.<br /><br />**Fix**: Implement custom migration. |
| NotSupportedSkip                                            |        Information       | Occurs for data that is not supported in Xperience by Kentico. Migration is not supported, and is not planned for upcoming versions.<br /><br />**Fix**: Implement custom migration. |
| SourceEntityIsNull                                          |        Error             | Probably an error while loading source data. Can be caused by malformed source data or by an error in the Migration toolkit.**Fix**: Check the related source data. If everything looks correct, report a Migration toolkit issue. |
| SourcePageIsNotPublished                                    |        Warning           | Only published pages are included in the migration. This warning occurs when a page on the source is not published.<br /><br />**Fix**: Publish all pages that you wish to migrate in the source instance. |
| SourceValueIsRequired                                       |        Error             | A source object instance has a missing value in a required field.<br /><br />**Fix**: Review the message and fill in the missing value on the source instance. |
| TemporaryAttachmentMigrationIsNotSupported                  |        Warning           | Temporary page attachments are created when a file upload is not finished correctly. The migration does not include temporary attachments.<br /><br />**Fix**: No actions required. If you wish to migrate the file, re-upload the attachment on the source instance to create a standard attachment. |
| ValueTruncationSkip                                         |        Error             | Occurs when a target database field has a lower allowed size than the source database field.<br /><br />**Fix**: Truncate the value to the required size on the source instance, or omit the value completely. |


## Submit issues

See [`CONTRIBUTING.md`](/CONTRIBUTING.md).

When submitting issues, please provide all available information about the problem or error. If possible, include the command line output log file and migration protocol generated for your `Migration.Toolkit.CLI.exe migrate` command.
